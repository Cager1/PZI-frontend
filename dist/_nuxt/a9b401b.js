(window.webpackJsonp=window.webpackJsonp||[]).push([[24,9],{487:function(e,r,t){"use strict";t.r(r);var o=t(30),n=(t(57),t(12),t(67),t(113),t(114),t(92));Object(n.d)("eager");var c={name:"job-form",components:{ValidationObserver:n.a,ValidationProvider:n.b},data:function(){return{config:{},job:{title:"",description:"",selection:[],user_id:0},services:[],snackbar:!1,timeout:2e3,message:"",color:"success"}},watch:{},mounted:function(){this.job.user_id=this.$auth.$state.user.id,console.log(this.job),this.config={headers:{Authorization:this.$auth.strategy.token.get()}},this.getServices()},methods:{getServices:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.$get("/services",e.config).then((function(r){e.services=r})).catch((function(e){console.log(e)}));case 2:case"end":return r.stop()}}),r)})))()},publishJob:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.job.service_id=37,r.next=3,e.$axios.$post("/job",e.job,e.config).then((function(r){console.log(r),e.message="Posao uspiješno objavljen.",e.color="success",e.snackbar=!0,e.clear()})).catch((function(r){for(var t in console.log(r.response),e.errors=r.response.errors,console.log(e.errors),e.errors)e.errors[t][0]=e.errors[t][0].charAt(0).toUpperCase()+e.errors[t][0].slice(1);for(var o in e.errors)e.$refs.observer.errors[o].push(e.errors[o][0]);e.message="Objavljivanje posla nauspjesno",e.color="error",e.snackbar=!0}));case 3:case"end":return r.stop()}}),r)})))()},clear:function(){this.job.title="",this.job.description="",this.job.selection=[]}}},l=t(97),v=t(135),d=t.n(v),m=t(424),f=t(208),j=t(112),h=t(453),k=t(452),_=t(494),x=t(582),$=t(595),component=Object(l.a)(c,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-card",{staticStyle:{padding:"20px"},attrs:{elevation:"24",shaped:""}},[t("v-card-title",[e._v("Objavite Posao")]),e._v(" "),t("ValidationObserver",{ref:"observer"},[t("v-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(r){return r.preventDefault(),e.publishJob.apply(null,arguments)}}},[t("ValidationProvider",{attrs:{name:"name",rules:"required|max:100"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("v-text-field",{attrs:{counter:100,"error-messages":o,name:"name",label:"Naslov posla",required:""},model:{value:e.job.name,callback:function(r){e.$set(e.job,"name",r)},expression:"job.name"}})]}}])}),e._v(" "),t("ValidationProvider",{attrs:{name:"description",rules:"required|max:1000"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("v-textarea",{attrs:{name:"description",counter:1e3,"error-messages":o,label:"Opis posla",hint:"Ovdje opišite svoj posao"},model:{value:e.job.description,callback:function(r){e.$set(e.job,"description",r)},expression:"job.description"}})]}}])}),e._v(" "),[t("v-treeview",{attrs:{items:e.services,selectable:"",hoverable:"","item-key":"id","open-on-click":""},model:{value:e.job.selection,callback:function(r){e.$set(e.job,"selection",r)},expression:"job.selection"}})],e._v(" "),t("v-btn",{staticClass:"mr-4",attrs:{type:"submit"}},[e._v("\n        Objavi\n      ")]),e._v(" "),t("v-btn",{on:{click:e.clear}},[e._v("\n        Očisti\n      ")])],2)],1),e._v(" "),t("v-snackbar",{attrs:{outlined:"","multi-line":"",color:e.color,timeout:e.timeout,"content-class":"text-center"},model:{value:e.snackbar,callback:function(r){e.snackbar=r},expression:"snackbar"}},[e._v("\n    "+e._s(e.message)+"\n  ")])],1)}),[],!1,null,"6d031828",null);r.default=component.exports;d()(component,{VBtn:m.a,VCard:f.a,VCardTitle:j.d,VForm:h.a,VSnackbar:k.a,VTextField:_.a,VTextarea:x.a,VTreeview:$.a})},589:function(e,r,t){"use strict";t.r(r);var o={name:"postjob",middleware:function(e){var r=e.redirect,t=e.$auth,o=t.$state.user.role_id;2===o||1===o||(t.$state.loggedIn?r("/"):r("/login"))}},n=t(97),c=t(135),l=t.n(c),v=t(445),component=Object(n.a)(o,(function(){var e=this.$createElement,r=this._self._c||e;return r("v-container",[r("job-form")],1)}),[],!1,null,"04025692",null);r.default=component.exports;l()(component,{JobForm:t(487).default}),l()(component,{VContainer:v.a})}}]);