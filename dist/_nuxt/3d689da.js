(window.webpackJsonp=window.webpackJsonp||[]).push([[24,10],{451:function(e,t,n){"use strict";n.r(t);var r=n(20),o=(n(95),n(96)),c=n.n(o),l={name:"job-form",data:function(){return{config:{},job:{title:"",description:"",service_id:0,user_id:0},services:[],valid:!0,checkbox:!1}},watch:{},mounted:function(){this.job.user_id=this.$auth.$state.user.id,console.log(this.job),this.config={headers:{Authorization:this.$auth.strategy.token.get()}},this.getServices()},methods:{getServices:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("http://pzi022022.studenti.sumit.sum.ba/backend/api/services",e.config).then((function(t){e.services=t.data})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},publishJob:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.job.service_id=37,t.next=3,c.a.post("http://127.0.0.1:8000/api/jobs",e.job,e.config).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}},d=n(65),v=n(80),f=n.n(v),m=n(359),h=n(373),j=n(371),k=n(436),x=n(386),_=n(453),w=n(538),$=n(551),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticStyle:{padding:"20px"},attrs:{elevation:"24",shaped:""}},[n("v-card-title",[e._v("Objavite Posao")]),e._v(" "),n("v-form",{ref:"form",attrs:{enctype:"multipart/form-data","lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.publishJob.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{name:"name",label:"Naslov posla",required:""},model:{value:e.job.name,callback:function(t){e.$set(e.job,"name",t)},expression:"job.name"}}),e._v(" "),n("v-textarea",{attrs:{name:"description",label:"Opis posla",hint:"Ovdje opisite svoj posao"},model:{value:e.job.description,callback:function(t){e.$set(e.job,"description",t)},expression:"job.description"}}),e._v(" "),[n("v-treeview",{attrs:{items:e.services,activatable:"",dark:"",hoverable:"","item-key":"id","open-on-click":"",selectable:""}})],e._v(" "),n("v-checkbox",{attrs:{rules:[function(e){return!!e||"Morate potvrditit kako bi nastavili"}],label:"Da li potvrÄ‘ujete?",required:""},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),e._v(" "),n("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success",type:"submit"},on:{click:e.validate}},[e._v("\n      Potvrdi\n    ")]),e._v(" "),n("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v("\n      Resetiraj\n    ")])],2)],1)}),[],!1,null,"659248f6",null);t.default=component.exports;f()(component,{VBtn:m.a,VCard:h.a,VCardTitle:j.c,VCheckbox:k.a,VForm:x.a,VTextField:_.a,VTextarea:w.a,VTreeview:$.a})},544:function(e,t,n){"use strict";n.r(t);var r={name:"postjob",middleware:function(e){var t=e.redirect,n=e.$auth,r=n.$state.user.role_id;2===r||1===r||(n.$state.loggedIn?t("/"):t("/login"))}},o=n(65),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("job-form")}),[],!1,null,"4c77e01c",null);t.default=component.exports;installComponents(component,{JobForm:n(451).default})}}]);